@mixin oFontsSource($fontName) {
	src: url(oFontsUseAsset($fontName + '.eot')); // IE9 Compat Modes
	src: url(oFontsUseAsset($fontName + '.eot?#iefix')) format('embedded-opentype'), // IE6-IE8
	     url(oFontsUseAsset($fontName + '.woff')) format('woff'), // Modern Browsers
	     url(oFontsUseAsset($fontName + '.ttf'))  format('truetype'); // Safari, Android, iOS
}

$ft-fonts-already-included-list: ();

@mixin oFontsInclude($family, $weight: normal, $style: normal) {
	@if(not index($o-fonts-supported, $family)) {
		@warn "#{$family} is not supported by o-fonts";
	}

	@if(not index($ft-fonts-already-included-list, ($family$weight$style))) {
		@if($family == ft-icons) {
			@font-face {
				font-family: "ft-icons";
				font-style: normal;
				font-weight: normal;
				@include oFontsSource('ft-icons')
			}
		} @else {
			
			$font-suffix: $weight;

			@if ($style != normal) {
				@if ($weight == normal) {
					$font-suffix: $style;
				} @else {
					$font-suffix: $font-suffix$style
				}
			}

			@font-face {
				font-family: $family + -$font-suffix;
				font-style: normal;
				font-weight: normal;
				@include oFontsSource($family + -$font-suffix);
			}
			
		}
	}
}


@function oFontsUseAsset ($asset) {
    @return oAssetsUse(($o-fonts-path + $asset), $o-fonts-assets-path, $o-fonts-version)
}